{"version":3,"file":"static/js/225.58cabf29.chunk.js","mappings":"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","sources":["components/Hero.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport './Hero.css';\r\n\r\n// 상수 정의\r\nconst SPLINE_URL = 'https://my.spline.design/cutecomputerfollowcursor-WYHdkV50k4EeXmMfH0M5DeUB/';\r\nconst MOBILE_BREAKPOINT = 768;\r\nconst FPS_THRESHOLDS = {\r\n  LOW: 20,\r\n  MEDIUM: 30,\r\n  HIGH: 50,\r\n  EXCELLENT: 60\r\n};\r\n\r\nfunction Hero() {\r\n  // State\r\n  const [shouldLoad, setShouldLoad] = useState(false);\r\n  const [isVisible, setIsVisible] = useState(true);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [isPageVisible, setIsPageVisible] = useState(true);\r\n  const [renderQuality, setRenderQuality] = useState('high');\r\n\r\n  // Refs\r\n  const heroRef = useRef(null);\r\n  const iframeRef = useRef(null);\r\n  const iframeKeyRef = useRef(0);\r\n  const wasVisibleRef = useRef(true);\r\n\r\n  // Page Visibility API - 탭이 비활성화되면 iframe 숨김\r\n  useEffect(() => {\r\n    const handleVisibilityChange = () => {\r\n      const isPageVisible = !document.hidden;\r\n      setIsPageVisible(isPageVisible);\r\n\r\n      if (iframeRef.current) {\r\n        iframeRef.current.style.display = isPageVisible ? 'block' : 'none';\r\n      }\r\n    };\r\n\r\n    setIsPageVisible(!document.hidden);\r\n    document.addEventListener('visibilitychange', handleVisibilityChange);\r\n\r\n    return () => {\r\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\r\n    };\r\n  }, []);\r\n\r\n  // 성능 모니터링 및 적응형 품질 조정\r\n  useEffect(() => {\r\n    if (!shouldLoad || !isVisible || !isPageVisible || isMobile) return;\r\n\r\n    let rafId;\r\n    let frameCount = 0;\r\n    let lastTime = performance.now();\r\n\r\n    const adjustQualityByFPS = (fps) => {\r\n      if (fps < FPS_THRESHOLDS.LOW && renderQuality === 'medium') {\r\n        setRenderQuality('low');\r\n      } else if (fps < FPS_THRESHOLDS.MEDIUM && renderQuality === 'high') {\r\n        setRenderQuality('medium');\r\n      } else if (fps > FPS_THRESHOLDS.HIGH && renderQuality === 'low') {\r\n        setRenderQuality('medium');\r\n      } else if (fps > FPS_THRESHOLDS.EXCELLENT && renderQuality === 'medium') {\r\n        setRenderQuality('high');\r\n      }\r\n    };\r\n\r\n    const monitorPerformance = (currentTime) => {\r\n      frameCount++;\r\n\r\n      // 1초마다 FPS 계산 및 품질 조정\r\n      if (currentTime - lastTime >= 1000) {\r\n        adjustQualityByFPS(frameCount);\r\n        frameCount = 0;\r\n        lastTime = currentTime;\r\n      }\r\n\r\n      rafId = requestAnimationFrame(monitorPerformance);\r\n    };\r\n\r\n    rafId = requestAnimationFrame(monitorPerformance);\r\n\r\n    return () => {\r\n      if (rafId) cancelAnimationFrame(rafId);\r\n    };\r\n  }, [shouldLoad, isVisible, isPageVisible, renderQuality, isMobile]);\r\n\r\n  // 모바일 감지 및 IntersectionObserver 설정\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth <= MOBILE_BREAKPOINT);\r\n    };\r\n\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n\r\n    if (isMobile) {\r\n      return () => window.removeEventListener('resize', checkMobile);\r\n    }\r\n\r\n    // 초기 로딩 Observer\r\n    const loadObserver = new IntersectionObserver(\r\n      (entries) => {\r\n        if (!entries[0].isIntersecting) return;\r\n\r\n        const loadIframe = () => {\r\n          setTimeout(() => setShouldLoad(true), 500);\r\n        };\r\n\r\n        if ('requestIdleCallback' in window) {\r\n          requestIdleCallback(loadIframe, { timeout: 2000 });\r\n        } else {\r\n          setTimeout(loadIframe, 500);\r\n        }\r\n\r\n        loadObserver.disconnect();\r\n      },\r\n      { threshold: 0.1 }\r\n    );\r\n\r\n    // 가시성 Observer\r\n    const visibilityObserver = new IntersectionObserver(\r\n      (entries) => {\r\n        const isIntersecting = entries[0].isIntersecting;\r\n\r\n        // 완전히 벗어났다가 다시 돌아올 때만 key 변경하여 재생성\r\n        if (!isIntersecting && wasVisibleRef.current) {\r\n          iframeKeyRef.current += 1;\r\n          wasVisibleRef.current = false;\r\n        } else if (isIntersecting && !wasVisibleRef.current) {\r\n          wasVisibleRef.current = true;\r\n        }\r\n\r\n        setIsVisible(isIntersecting);\r\n      },\r\n      { threshold: 0, rootMargin: '0px' }\r\n    );\r\n\r\n    if (heroRef.current) {\r\n      loadObserver.observe(heroRef.current);\r\n      visibilityObserver.observe(heroRef.current);\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', checkMobile);\r\n      loadObserver.disconnect();\r\n      visibilityObserver.disconnect();\r\n    };\r\n  }, [isMobile]);\r\n\r\n  // 품질에 따른 스타일 계산\r\n  const getQualityStyle = () => {\r\n    const baseStyle = {\r\n      pointerEvents: 'auto',\r\n      opacity: 1,\r\n      transition: 'opacity 0.3s ease-in-out, transform 0.3s ease-in-out, filter 0.3s ease-in-out'\r\n    };\r\n\r\n    const qualityStyles = {\r\n      low: {\r\n        ...baseStyle,\r\n        transform: 'scale(0.95)',\r\n        filter: 'blur(0.5px) brightness(0.9)'\r\n      },\r\n      medium: {\r\n        ...baseStyle,\r\n        transform: 'scale(0.98)',\r\n        filter: 'brightness(0.95)'\r\n      },\r\n      high: baseStyle\r\n    };\r\n\r\n    return qualityStyles[renderQuality] || baseStyle;\r\n  };\r\n\r\n  const shouldShowIframe = shouldLoad && isVisible && isPageVisible;\r\n\r\n  return (\r\n    <section className=\"hero\" id=\"hero\" ref={heroRef}>\r\n      <div className=\"hero-container\">\r\n        {isMobile ? (\r\n          <div className=\"hero-mobile\">\r\n            <h1 className=\"hero-title\">포트폴리오</h1>\r\n            <p className=\"hero-subtitle\">웹 개발자</p>\r\n          </div>\r\n        ) : shouldShowIframe ? (\r\n          <iframe\r\n            ref={iframeRef}\r\n            key={`spline-${iframeKeyRef.current}`}\r\n            src={SPLINE_URL}\r\n            frameBorder=\"0\"\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            loading=\"lazy\"\r\n            allow=\"autoplay; fullscreen\"\r\n            style={getQualityStyle()}\r\n          />\r\n        ) : (\r\n          <div className=\"hero-loading\">\r\n            <p className=\"hero-title\">포트폴리오</p>\r\n            <p className=\"hero-subtitle\">웹 개발자</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Hero;\r\n\r\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };"],"names":["FPS_THRESHOLDS","shouldLoad","setShouldLoad","useState","isVisible","setIsVisible","isMobile","setIsMobile","isPageVisible","setIsPageVisible","renderQuality","setRenderQuality","heroRef","useRef","iframeRef","iframeKeyRef","wasVisibleRef","useEffect","handleVisibilityChange","document","hidden","current","style","display","addEventListener","removeEventListener","rafId","frameCount","lastTime","performance","now","monitorPerformance","currentTime","fps","requestAnimationFrame","cancelAnimationFrame","checkMobile","window","innerWidth","loadObserver","IntersectionObserver","entries","isIntersecting","loadIframe","setTimeout","requestIdleCallback","timeout","disconnect","threshold","visibilityObserver","rootMargin","observe","shouldShowIframe","_jsx","className","id","ref","children","_jsxs","src","frameBorder","width","height","loading","allow","getQualityStyle","baseStyle","pointerEvents","opacity","transition","low","_objectSpread","transform","filter","medium","high","concat","_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperty","Object","defineProperty","value","enumerable","configurable","writable","ownKeys","keys","getOwnPropertySymbols","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties"],"ignoreList":[],"sourceRoot":""}